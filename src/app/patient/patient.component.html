 <header><h1>Hospital Management System</h1></header> 
<main>
  <section id="Patient">
    <h2><strong>Patient-Details</strong></h2>
    <div id="patient-form">
      <form #patientForm="ngForm">
        <h3>Enter the patient information</h3>
        <label>Full Name</label>
        <input type="text" placeholder="Enter full name" required [(ngModel)]="patient.patientName" name="patientName">

        <label>Age</label>
        <input type="number" placeholder="Ex-20" required [(ngModel)]="patient.age" name="age">

        <label>Phone-Number</label>
        <input type="number" placeholder="Enter your phone number" required [(ngModel)]="patient.phone" name="phone">

        <h3>Addresses</h3>
        <div *ngFor="let addr of patient.addresses; let i = index" class="address-box">
          <label>Street1:</label>
          <input placeholder="Street1" [(ngModel)]="addr.street1" name="street1{{i}}">
          <label>Street2:</label>
          <input placeholder="Street2" [(ngModel)]="addr.street2" name="street2{{i}}">
          <button type="button" (click)="removeAddress(i)">Remove</button>
        </div>
        <button type="button" (click)="addAddress()">Add Address</button>
        

        <br><br>
        <input type="button" [value]="editingPatientId !== null ? 'Update' : 'Save'" (click)="Add()"><br>

        <button type="button" *ngIf='iseditmode' (click)="update()">Update</button><br>

        <button type="button" *ngIf="iseditmode" (click)="cancel()">cancel</button>
      </form>

      <h3>Saved Patients</h3>
      <table border="1" *ngIf="Allpatients.length > 0">
        <tr>
          <th>ID</th>
          <th>Full Name</th>
          <th>Age</th>
          <th>Phone</th>
          <th>Addresses</th>
          <th>Actions</th>
        </tr>
        <tr *ngFor="let p of Allpatients">
          <td>{{p.id}}</td>
          <td>{{p.patientName}}</td>
          <td>{{p.age}}</td>
          <td>{{p.phone}}</td>
          <td>
            <div class="address-box" *ngFor="let addr of p.addresses">
              <span class="addr-label">Street1:</span> <span>{{addr.street1}}</span> <br>
              <span class="addr-label">Street2:</span> <span>{{addr.street2}}</span>
            </div>
          </td>
          <td>
            <button (click)="editPatient(p.id!)">Edit</button>
            <button (click)="deletePatient(p.id!)">Delete</button>
          </td>
        </tr>
      </table>
    </div>
  </section>
</main>